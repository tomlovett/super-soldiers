complete_skill_tree = [
  { name: 'Slash', level: 1, fighter_class: Soldier::FIGHTER_CLASS::Ranger, desc: 'A skill thingy' },
  { name: 'Phantom', level: 2, fighter_class: Soldier::FIGHTER_CLASS::Ranger, desc: 'A skill thingy' },
  { name: 'Blademaster', level: 2, fighter_class: Soldier::FIGHTER_CLASS::Ranger, desc: 'A skill thingy' },
  { name: 'Shadowstrike', level: 3, fighter_class: Soldier::FIGHTER_CLASS::Ranger, desc: 'A skill thingy' },
  { name: 'Shadowstep', level: 3, fighter_class: Soldier::FIGHTER_CLASS::Ranger, desc: 'A skill thingy' },
  { name: 'Conceal', level: 4, fighter_class: Soldier::FIGHTER_CLASS::Ranger, desc: 'A skill thingy' },
  { name: 'Run and Gun', level: 4, fighter_class: Soldier::FIGHTER_CLASS::Ranger, desc: 'A skill thingy' },
  { name: 'Implacable', level: 5, fighter_class: Soldier::FIGHTER_CLASS::Ranger, desc: 'A skill thingy' },
  { name: 'Bladestorm', level: 5, fighter_class: Soldier::FIGHTER_CLASS::Ranger, desc: 'A skill thingy' },
  { name: 'Deep Cover', level: 6, fighter_class: Soldier::FIGHTER_CLASS::Ranger, desc: 'A skill thingy' },
  { name: 'Untouchable', level: 6, fighter_class: Soldier::FIGHTER_CLASS::Ranger, desc: 'A skill thingy' },
  { name: 'Rapid Fire', level: 7, fighter_class: Soldier::FIGHTER_CLASS::Ranger, desc: 'A skill thingy' },
  { name: 'Reaper', level: 7, fighter_class: Soldier::FIGHTER_CLASS::Ranger, desc: 'A skill thingy' },
  { name: 'Squadsight', level: 1, fighter_class: Soldier::FIGHTER_CLASS::Sharpshooter, desc: 'A skill thingy' },
  { name: 'Long Watch', level: 2, fighter_class: Soldier::FIGHTER_CLASS::Sharpshooter, desc: 'A skill thingy' },
  { name: 'Return Fire', level: 2, fighter_class: Soldier::FIGHTER_CLASS::Sharpshooter, desc: 'A skill thingy' },
  { name: 'Deadeye', level: 3, fighter_class: Soldier::FIGHTER_CLASS::Sharpshooter, desc: 'A skill thingy' },
  { name: 'Lightning Hands', level: 3, fighter_class: Soldier::FIGHTER_CLASS::Sharpshooter, desc: 'A skill thingy' },
  { name: 'Death From Above', level: 4, fighter_class: Soldier::FIGHTER_CLASS::Sharpshooter, desc: 'A skill thingy' },
  { name: 'Quickdraw', level: 4, fighter_class: Soldier::FIGHTER_CLASS::Sharpshooter, desc: 'A skill thingy' },
  { name: 'Kill Zone', level: 5, fighter_class: Soldier::FIGHTER_CLASS::Sharpshooter, desc: 'A skill thingy' },
  { name: 'Faceoff', level: 5, fighter_class: Soldier::FIGHTER_CLASS::Sharpshooter, desc: 'A skill thingy' },
  { name: 'Steady Hands', level: 6, fighter_class: Soldier::FIGHTER_CLASS::Sharpshooter, desc: 'A skill thingy' },
  { name: 'Aim', level: 6, fighter_class: Soldier::FIGHTER_CLASS::Sharpshooter, desc: 'A skill thingy' },
  { name: 'Serial', level: 7, fighter_class: Soldier::FIGHTER_CLASS::Sharpshooter, desc: 'A skill thingy' },
  { name: 'Fan Fire', level: 7, fighter_class: Soldier::FIGHTER_CLASS::Sharpshooter, desc: 'A skill thingy' },
  { name: 'Launch Grenade', level: 1, fighter_class: Soldier::FIGHTER_CLASS::Grenadier, desc: 'A skill thingy' },
  { name: 'Blast Padding', level: 2, fighter_class: Soldier::FIGHTER_CLASS::Grenadier, desc: 'A skill thingy' },
  { name: 'Shredder', level: 2, fighter_class: Soldier::FIGHTER_CLASS::Grenadier, desc: 'A skill thingy' },
  { name: 'Demolition', level: 3, fighter_class: Soldier::FIGHTER_CLASS::Grenadier, desc: 'A skill thingy' },
  { name: 'Suppression', level: 3, fighter_class: Soldier::FIGHTER_CLASS::Grenadier, desc: 'A skill thingy' },
  { name: 'Heavy Ordinance', level: 4, fighter_class: Soldier::FIGHTER_CLASS::Grenadier, desc: 'A skill thingy' },
  { name: 'Holo Targeting', level: 4, fighter_class: Soldier::FIGHTER_CLASS::Grenadier, desc: 'A skill thingy' },
  { name: 'Volatile Mix', level: 5, fighter_class: Soldier::FIGHTER_CLASS::Grenadier, desc: 'A skill thingy' },
  { name: 'Chain Shot', level: 5, fighter_class: Soldier::FIGHTER_CLASS::Grenadier, desc: 'A skill thingy' },
  { name: 'Salvo', level: 6, fighter_class: Soldier::FIGHTER_CLASS::Grenadier, desc: 'A skill thingy' },
  { name: 'Hail of Bullets', level: 6, fighter_class: Soldier::FIGHTER_CLASS::Grenadier, desc: 'A skill thingy' },
  { name: 'Saturation of Fire', level: 7, fighter_class: Soldier::FIGHTER_CLASS::Grenadier, desc: 'A skill thingy' },
  { name: 'Rupture', level: 7, fighter_class: Soldier::FIGHTER_CLASS::Grenadier, desc: 'A skill thingy' },
  { name: 'Hack', level: 1, fighter_class: Soldier::FIGHTER_CLASS::Specialist, desc: 'A skill thingy' },
  { name: 'Gremlin Cover', level: 1, fighter_class: Soldier::FIGHTER_CLASS::Specialist, desc: 'A skill thingy' },
  { name: 'Medical Protocol', level: 2, fighter_class: Soldier::FIGHTER_CLASS::Specialist, desc: 'A skill thingy' },
  { name: 'Combat Protocol', level: 2, fighter_class: Soldier::FIGHTER_CLASS::Specialist, desc: 'A skill thingy' },
  { name: 'Revival Protocol', level: 3, fighter_class: Soldier::FIGHTER_CLASS::Specialist, desc: 'A skill thingy' },
  { name: 'Haywire Protocol', level: 3, fighter_class: Soldier::FIGHTER_CLASS::Specialist, desc: 'A skill thingy' },
  { name: 'Field Medic', level: 4, fighter_class: Soldier::FIGHTER_CLASS::Specialist, desc: 'A skill thingy' },
  { name: 'Scanning Protocol', level: 4, fighter_class: Soldier::FIGHTER_CLASS::Specialist, desc: 'A skill thingy' },
  { name: 'Covering Fire', level: 5, fighter_class: Soldier::FIGHTER_CLASS::Specialist, desc: 'A skill thingy' },
  { name: 'Threat Assessment', level: 5, fighter_class: Soldier::FIGHTER_CLASS::Specialist, desc: 'A skill thingy' },
  { name: 'Ever Vigilant', level: 6, fighter_class: Soldier::FIGHTER_CLASS::Specialist, desc: 'A skill thingy' },
  { name: 'Guardian', level: 6, fighter_class: Soldier::FIGHTER_CLASS::Specialist, desc: 'A skill thingy' },
  { name: 'Restoration', level: 7, fighter_class: Soldier::FIGHTER_CLASS::Specialist, desc: 'A skill thingy' },
  { name: 'Capacitor Discharge', level: 7, fighter_class: Soldier::FIGHTER_CLASS::Specialist, desc: 'A skill thingy' },
]

complete_skill_tree.each { |skill| Skill.create!(skill) } if Skill.count == 0

return if Rails.env == "test"

user = User.create(name: 'Commander', email: 'c@work.com', password: 'password', password_confirmation: 'password')

bart = Soldier.create(
  first_name: 'Bart',
  last_name: 'Chrysler',
  nationality: 'USA',
  gender: 'm',
  is_alive: true,
  user: user,
  exp: 8069,
  fighter_class: Soldier::FIGHTER_CLASS::Grenadier
)
lee = Soldier.create(
  first_name: 'Lee',
  last_name: 'Syatt',
  nationality: 'Israel',
  gender: 'm',
  is_alive: true,
  user: user,
  exp: 0,
  fighter_class: nil
)
bobby = Soldier.create(
  first_name: 'Bobby',
  last_name: 'Lee',
  nationality: 'Korea',
  gender: 'm',
  is_alive: false,
  user: user,
  exp: 1,
  fighter_class: nil
)
crystal = Soldier.create(
  first_name: 'Christina',
  last_name: 'P',
  nationality: 'Poland',
  gender: 'f',
  is_alive: true,
  user: user,
  exp: 1023,
  fighter_class: Soldier::FIGHTER_CLASS::Specialist
)
tommy = Soldier.create(
  first_name: 'Tom',
  last_name: 'Segura',
  nickname: 'Tommy Buns',
  nationality: 'Peru',
  gender: 'm',
  is_alive: true,
  user: user,
  exp: 8069,
  fighter_class: Soldier::FIGHTER_CLASS::Ranger
)
uncle_joey = Soldier.create(
  first_name: 'Joey',
  last_name: 'Diaz',
  nickname: 'CoCo', nationality: 'Cuba',
  gender: 'm',
  is_alive: true,
  user: user,
  exp: 4123,
  fighter_class: Soldier::FIGHTER_CLASS::Grenadier
)

# TODO: assign skills to each soldier

cool_guy = Mission.create(name: 'Cool Guy', user: user)
curation = Mission.create(name: 'TikTok Curation', user: user)
bonanza = Mission.create(name: 'Banana Bonanza', user: user)

def dummy_performance
  perf = {}

  perf[:hits] = (0..12).to_a.sample
  perf[:misses] = (0..6).to_a.sample
  perf[:kills] = (perf[:hits] / 3.0) + (0..2).to_a.sample
  perf[:exp_gained] = perf[:kills] * [25, 50, 100, 200, 400].sample
  perf[:was_KIA] = rand() < 0.9
  perf[:was_promoted] = rand() < 0.8

  perf
end

bart.add_to_mission(cool_guy, dummy_performance)
bart.add_to_mission(bonanza, dummy_performance)
bobby.add_to_mission(cool_guy, dummy_performance)
bobby.add_to_mission(curation, dummy_performance)
lee.add_to_mission(curation, dummy_performance)
lee.add_to_mission(bonanza, dummy_performance)
crystal.add_to_mission(cool_guy, dummy_performance)
crystal.add_to_mission(curation, dummy_performance)
tommy.add_to_mission(cool_guy, dummy_performance)
tommy.add_to_mission(bonanza, dummy_performance)
uncle_joey.add_to_mission(curation, dummy_performance)
uncle_joey.add_to_mission(bonanza, dummy_performance)
